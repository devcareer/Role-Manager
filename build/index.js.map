{"version":3,"sources":["../src/index.js"],"names":["app","process","env","NODE_ENV","use","DEBUG","PORT","swaggerUi","serve","setup","swaggerDoc","express","json","urlencoded","extended","get","req","res","status","message","next","error","Error","listen"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;;AAEA,IACEC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,IACKF,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAFhC,EAGE;AACAH,EAAAA,GAAG,CAACI,GAAJ,CAAQ,wBAAO,KAAP,CAAR;AACD;;AAED,IAAMC,KAAK,GAAG,uBAAM,KAAN,CAAd;AACA,IAAMC,IAAI,GAAGL,OAAO,CAACC,GAAR,CAAYI,IAAZ,IAAoB,IAAjC;AAEAN,GAAG,CAACI,GAAJ,CAAQ,cAAR,EAAwBG,6BAAUC,KAAlC,EAAyCD,6BAAUE,KAAV,CAAgBC,0BAAhB,CAAzC;AACAV,GAAG,CAACI,GAAJ,CAAQO,oBAAQC,IAAR,EAAR;AACAZ,GAAG,CAACI,GAAJ,CAAQO,oBAAQE,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AAEAd,GAAG,CAACe,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzBA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAqB;AACnBM,IAAAA,MAAM,EAAE,SADW;AAEnBC,IAAAA,OAAO,EAAE;AAFU,GAArB;AAID,CALD;AAOAnB,GAAG,CAACe,GAAJ,CAAQ,UAACC,GAAD,EAAMC,GAAN,EAAWG,IAAX,EAAoB;AAC1B,MAAMC,KAAK,GAAG,IAAIC,KAAJ,CAAU,oBAAV,CAAd;AACAD,EAAAA,KAAK,CAACH,MAAN,GAAe,GAAf;AACAE,EAAAA,IAAI;AACL,CAJD;AAMApB,GAAG,CAACe,GAAJ,CAAQ,UAACM,KAAD,EAAQL,GAAR,EAAaC,GAAb,EAAqB;AAC3BA,EAAAA,GAAG,CAACC,MAAJ,CAAWG,KAAK,CAACH,MAAN,IAAgB,GAA3B;AACAD,EAAAA,GAAG,CAACL,IAAJ,CAAS;AACPS,IAAAA,KAAK,EAAE;AACLF,MAAAA,OAAO,EAAE;AADJ;AADA,GAAT;AAKD,CAPD;AASAnB,GAAG,CAACuB,MAAJ,CAAWjB,IAAX,EAAiB;AAAA,SAAMD,KAAK,kCAA2BC,IAA3B,EAAX;AAAA,CAAjB;eAEeN,G","sourcesContent":["import Debug from 'debug';\nimport express from 'express';\nimport logger from 'morgan';\nimport swaggerUi from 'swagger-ui-express';\nimport swaggerDoc from '../docs/role-manager-api.json';\n\nconst app = express();\n\nif (\n  process.env.NODE_ENV === 'development'\n    || process.env.NODE_ENV === 'production'\n) {\n  app.use(logger('dev'));\n}\n\nconst DEBUG = Debug('dev');\nconst PORT = process.env.PORT || 5000;\n\napp.use('/api/v1/docs', swaggerUi.serve, swaggerUi.setup(swaggerDoc));\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\napp.get('/', (req, res) => {\n  res.status(200).json({\n    status: 'success',\n    message: 'Welcome to Role-Manager...'\n  });\n});\n\napp.get((req, res, next) => {\n  const error = new Error('resource not found');\n  error.status = 404;\n  next();\n});\n\napp.get((error, req, res) => {\n  res.status(error.status || 500);\n  res.json({\n    error: {\n      message: 'an error occurred while loading this page'\n    }\n  });\n});\n\napp.listen(PORT, () => DEBUG(`Server running on port ${PORT}`));\n\nexport default app;\n"],"file":"index.js"}